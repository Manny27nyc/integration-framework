{
  "name": "Prometheus Pushgateway",
  "version": "0.0.1",
  "overview": "Sends events to a Prometheus Pushgateway",
  "description": "Sends events to a Prometheus Pushgateway or other endpoint that speaks the Prometheus line protocol.",
  "author": "LaunchDarkly",
  "supportEmail": "support@launchdarkly.com",
  "links": {
    "site": "https://prometheus.io",
    "privacyPolicy": "https://prometheus.io"
  },
  "categories": ["monitoring"],
  "icons": {
    "square": "assets/images/prometheus-square.svg",
    "horizontal": "assets/images/prometheus-square.svg"
  },
  "formVariables": [
    {
      "key": "metricsUrl",
      "name": "Metrics URL",
      "description": "The URL to which Launch Darkly should POST metrics",
      "placeholder": "http://pushgateway.example.org:9091/metrics",
      "type": "uri",
      "isSecret": false
    },
    {
      "key": "jobName",
      "name": "Job Name",
      "description": "The name of the job label to be applied to exported metrics",
      "defaultValue": "launchdarkly",
      "type": "string",
      "isSecret": false
    }
  ],
  "capabilities": {
    "auditLogEventsHook": {
      "endpoint": {
        "url": "{{ metricsUrl }}/job/{{ jobName }}/instance/{{ kind }}:{{ name }}",
        "method": "POST",
        "headers": []
      },
      "templates": {
        "flag": "templates/template",
        "project": "templates/template",
        "environment": "templates/template",
        "metric": "templates/template"
      },
      "defaultPolicy": []
    }
  }
}
